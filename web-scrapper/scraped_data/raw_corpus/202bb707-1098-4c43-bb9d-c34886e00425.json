{"url": "https://www.freecodecamp.org/news/set-up-a-proxmox-cluster-virtualization-basics/", "text": "How to Set Up a Proxmox Cluster for Free \u2013 Virtualization Basics Learn to code \u2014 free 3,000-hour curriculum Shamsuddoha Ranju Virtualization is a game-changer for developers, hobbyists, and IT enthusiasts. It lets you run multiple operating systems on one machine, which is perfect for testing apps, hosting servers, or learning new tech. If you want to take it further, clustering ties multiple machines together for more power and flexibility. And you can use Proxmox Virtual Environment (VE) to build a cluster for free \u2013 no expensive licenses required. In this tutorial, you\u2019ll set up a 3-node Proxmox cluster using three computers (or virtual machines for practice). By the end, you\u2019ll have a working cluster ready to host virtual machines (VMs) and experiment with cool features like guest migration and VM replication etc. Let\u2019s dive in! Prerequisites: What You\u2019ll Need to Know This guide is beginner-friendly for clustering, but you\u2019ll need some basic skills to follow along. You should be comfortable with: Installing an OS from a USB drive (don\u2019t worry, I\u2019ll walk you through the steps). Using a terminal for simple commands like ping or nano . Setting up a home network with static IPs (for example, knowing your router\u2019s IP range). No advanced virtualization or clustering experience is required\u2014I\u2019ll explain the key concepts as we go. What You\u2019ll Need Three computers (or VMs): Start with at least 8GB RAM and 100GB storage per machine, plus a virtualization-capable CPU (most modern ones work). These specs are a baseline\u2014actual RAM and storage depend on how many VMs you want to host (e.g., more VMs need more resources). Proxmox VE: Free and open-source. Grab the ISO from proxmox.com . Network connection: All three must be on the same network and be able to ping each other. A web browser: For Proxmox\u2019s web interface. 30\u201360 minutes : Depending on your setup pace. Why Proxmox and Clustering? Proxmox VE is a free, open-source virtualization platform built on Debian Linux. It uses KVM for VMs (fully virtualized systems) and LXC for containers (lightweight app environments), all managed via a slick web interface. Clustering means linking multiple Proxmox machines\u2014called nodes\u2014so they act as one system. Think of it like a team: each node shares the workload, and you control them from a single dashboard. This setup lets you move (migrate) VMs between nodes, boost reliability, and experiment with high availability (HA)\u2014where VMs auto-restart (on healthy node) if a node fails. Plus, Proxmox offers a handy replication feature: it can sync VM data between nodes automatically, keeping backups ready if something goes wrong. It\u2019s a must-have skill for DevOps, app testing, or IT tinkering. 2 Nodes vs. 3 Nodes: Which Should You Choose? Before we build your 3-node cluster, let\u2019s explore your options. Clustering can start with 2 nodes or go to 3 (or more). Here\u2019s why you might pick one over the other: 2-Node Cluster : Pros : Easier setup with just two machines. Great for learning basics or small projects. Uses less hardware. Cons : No quorum\u2014a voting majority to keep the cluster running if a node fails\u2014so HA isn\u2019t reliable. You\u2019d need an extra trick (like a quorum device) to avoid stalling. Best For : Learning, Testing clustering, or limited resources. 3-Node Cluster : Pros : Built-in quorum\u2014two out of three nodes keep things going if one crashes. Ideal for HA practice. More stable and scalable. Cons : Needs an extra machine and a bit more setup time. Best For : Serious learners or small production setups. We\u2019ll go with 3 nodes\u2014it\u2019s the sweet spot for stability and real-world skills. Step 1: Install Proxmox VE on All Three Machines First, download the Proxmox VE ISO from proxmox.com . Make a bootable USB with Rufus (Windows), dd (Linux/macOS), or Raspberry Pi Imager (available for all platforms). For dd , use this command (replace placeholders with your ISO and USB device): sudo dd if=proxmox-ve.iso of=/dev/sdX bs=1M status=progress oflag=sync Boot each machine from the USB and follow the installer. Stick with the default partitioning scheme (it uses EXT4 filesystem) and set static IPs and hostnames as follows (or you can use your own IPs knowing your router\u2019s IP range): Node 1: 172.20.1.101 [hostname: node01.local ] Node 2: 172.20.1.102 [hostname: node02.local ] Node 3: 172.20.1.103 [hostname: node03.local ] After installation, each node displays its IP on the console (for example, https://172.20.1.101:8006 ). Test it by opening a browser, visiting each IP, and logging in with root and your password. You\u2019ll see the Proxmox dashboard. Step 2: Prepare Your Nodes Now, let\u2019s get your nodes ready to talk to each other\u2014a crucial step for clustering. Without this, they won\u2019t recognize each other properly. Update /etc/hosts on all three nodes to map IPs to hostnames (since we\u2019re not using a DNS server). Open the file with: nano /etc/hosts Add these lines (IPs and hostnames) on each node: 172.20.1.101 node01.local node01 172.20.1.102 node02.local node02 172.20.1.103 node03.local node03 Save and exit ( Ctrl+O , Enter , Ctrl+X ). This ensures nodes can resolve each other\u2019s names (for example, node01 pings node02.local). Next, check connectivity. From Node 1\u2019s console (or SSH), ping the others: ping 172.20.1.102 ping 172.20.1.103 Repeat from Node 2 and Node 3. If pings fail, check your network or firewall. Finally, sync their clocks\u2014clusters need precise time to coordinate. On each node, run: ntpdate pool.ntp.org All three nodes are now primed for clustering. Step 3: Create the Cluster on Node 1 Let\u2019s set up the cluster starting with Node 1. Log into its web interface at https://172.20.1.101:8006 . On the left sidebar, click Datacenter, then Cluster. Hit the Create Cluster button, and a dialog pops up. Name your cluster\u2014let\u2019s call it MyCluster and click Create. A task window will appear, showing the process. Wait a few seconds until you see \u201cTASK OK\u201d\u2014that means your cluster is live and Node 1 is its first member. Now we can add the other nodes! Step 4: Join Node 2 and Node 3 to the Cluster With the cluster created, let\u2019s bring in Node 2 and Node 3. On Node 1\u2019s cluster page, click Join Information, then Copy Information\u2014this copies a key you\u2019ll need. Open Node 2\u2019s web interface ( https://172.20.1.102:8006 ), go to Datacenter > Cluster > Join Cluster, paste the key into the Information field, enter Node 1\u2019s root password, and click Join MyCluster . Repeat this process on Node 3\u2019s interface ( https://172.20.1.103:8006 ). Refresh Node 1\u2019s dashboard\u2014under Datacenter, you\u2019ll see all three nodes with green checkmarks. Your 3-node cluster is up! Step 5: Test Your Cluster Let\u2019s verify it works by creating and moving a test VM. On Node 1, click Create VM, name it TestVM, skip the ISO, and finish with defaults (no disk content needed). Hit the Start button to boot it up. Now, let\u2019s migrate it around\u2014migration means moving the VM from one node to another to test your cluster\u2019s flexibility. Right-click TestVM, select Migrate, choose Node 2, and click Migrate. The VM stops briefly, copies to Node 2, and restarts (normal without shared storage). Repeat this, migrating it from Node 2 to Node 3. If it hops between nodes successfully, your cluster\u2019s rocking! With three nodes, you\u2019ve got quorum\u2014try shutting down Node 3 to see the others stay active. What\u2019s Next? You\u2019ve built a 3-node Proxmox cluster for free\u2014congrats! Take it further with: Shared storage : Add NFS or a spare drive for live VM migration (no stopping/shutdown needed). High Availability : Enable HA\u2014VMs auto-restart on a healthy node if one fails. VM Replication: Configure Replication\u2014Sync VM data between nodes automatically, keeping backups ready if something goes wrong. Scale up : Add more nodes or try LXC containers. Check your cluster\u2019s health anytime (from console) with: pvecm status Wrapping Up You\u2019ve just set up a 3-node Proxmox cluster at no cost. It\u2019s a playground for virtualization, DevOps practice, or even hosting small projects. Share your thoughts with me \u2013 I\u2019d love to hear how you liked it. ADVERTISEMENT ADVERTISEMENT ADVERTISEMENT ADVERTISEMENT ADVERTISEMENT ADVERTISEMENT ADVERTISEMENT ADVERTISEMENT ADVERTISEMENT ADVERTISEMENT ADVERTISEMENT ADVERTISEMENT ADVERTISEMENT ADVERTISEMENT ADVERTISEMENT ADVERTISEMENT ADVERTISEMENT Shamsuddoha Ranju Read more posts . If this article was helpful, share it . Learn to code for free. freeCodeCamp's open source curriculum has helped more than 40,000 people get jobs as developers. Get started ADVERTISEMENT", "timestamp": 1769625526.8899214}